"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _react = _interopRequireDefault(require("react"));

var _propTypes = _interopRequireDefault(require("prop-types"));

var _dialogView = _interopRequireDefault(require("./dialog-view"));

var _repositoryHomeSelectionView = _interopRequireDefault(require("./repository-home-selection-view"));

var _directorySelect = _interopRequireDefault(require("./directory-select"));

var _remoteConfigurationView = _interopRequireDefault(require("./remote-configuration-view"));

var _tabGroup = _interopRequireDefault(require("../tab-group"));

var _tabbable = require("./tabbable");

var _octicon = _interopRequireDefault(require("../atom/octicon"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

const DIALOG_TEXT = {
  create: {
    heading: 'Create GitHub repository',
    hostPath: 'Destination path:',
    progressMessage: 'Creating repository...',
    acceptText: 'Create'
  },
  publish: {
    heading: 'Publish GitHub repository',
    hostPath: 'Local path:',
    progressMessage: 'Publishing repository...',
    acceptText: 'Publish'
  }
};

class CreateDialogView extends _react.default.Component {
  constructor(props) {
    super(props);

    _defineProperty(this, "didChangeVisibility", event => this.props.didChangeVisibility(event.target.value));

    this.tabGroup = new _tabGroup.default();
  }

  render() {
    const text = DIALOG_TEXT[this.props.request.identifier];
    return /*#__PURE__*/_react.default.createElement(_dialogView.default, {
      progressMessage: text.progressMessage,
      acceptEnabled: this.props.acceptEnabled,
      acceptText: text.acceptText,
      accept: this.props.accept,
      cancel: this.props.request.cancel,
      tabGroup: this.tabGroup,
      inProgress: this.props.inProgress,
      error: this.props.error,
      workspace: this.props.workspace,
      commands: this.props.commands
    }, /*#__PURE__*/_react.default.createElement("h1", {
      className: "github-Create-header"
    }, /*#__PURE__*/_react.default.createElement(_octicon.default, {
      icon: "globe"
    }), text.heading), /*#__PURE__*/_react.default.createElement("div", {
      className: "github-Create-repo block"
    }, /*#__PURE__*/_react.default.createElement(_repositoryHomeSelectionView.default, {
      tabGroup: this.tabGroup,
      commands: this.props.commands,
      autofocusName: true,
      user: this.props.user,
      nameBuffer: this.props.repoName,
      selectedOwnerID: this.props.selectedOwnerID,
      didChangeOwnerID: this.props.didChangeOwnerID,
      isLoading: this.props.isLoading
    })), /*#__PURE__*/_react.default.createElement("div", {
      className: "github-Create-visibility block"
    }, /*#__PURE__*/_react.default.createElement("span", {
      className: "github-Create-visibilityHeading"
    }, "Visibility:"), /*#__PURE__*/_react.default.createElement("label", {
      className: "github-Create-visibilityOption input-label"
    }, /*#__PURE__*/_react.default.createElement(_tabbable.TabbableInput, {
      tabGroup: this.tabGroup,
      commands: this.props.commands,
      className: "input-radio",
      type: "radio",
      name: "visibility",
      value: "PUBLIC",
      checked: this.props.selectedVisibility === 'PUBLIC',
      onChange: this.didChangeVisibility
    }), /*#__PURE__*/_react.default.createElement(_octicon.default, {
      icon: "globe"
    }), "Public"), /*#__PURE__*/_react.default.createElement("label", {
      className: "github-Create-visibilityOption input-label"
    }, /*#__PURE__*/_react.default.createElement(_tabbable.TabbableInput, {
      tabGroup: this.tabGroup,
      commands: this.props.commands,
      className: "input-radio",
      type: "radio",
      name: "visibility",
      value: "PRIVATE",
      checked: this.props.selectedVisibility === 'PRIVATE',
      onChange: this.didChangeVisibility
    }), /*#__PURE__*/_react.default.createElement(_octicon.default, {
      icon: "mirror-private"
    }), "Private")), /*#__PURE__*/_react.default.createElement("div", {
      className: "github-Create-localPath"
    }, /*#__PURE__*/_react.default.createElement(_directorySelect.default, {
      tabGroup: this.tabGroup,
      commands: this.props.commands,
      currentWindow: this.props.currentWindow,
      buffer: this.props.localPath,
      disabled: this.props.request.identifier === 'publish'
    })), /*#__PURE__*/_react.default.createElement(_remoteConfigurationView.default, {
      tabGroup: this.tabGroup,
      commands: this.props.commands,
      currentProtocol: this.props.selectedProtocol,
      didChangeProtocol: this.props.didChangeProtocol,
      sourceRemoteBuffer: this.props.sourceRemoteName
    }));
  }

  componentDidMount() {
    this.tabGroup.autofocus();
  }

}

exports.default = CreateDialogView;

_defineProperty(CreateDialogView, "propTypes", {
  // Relay
  user: _propTypes.default.object,
  // Model
  request: _propTypes.default.shape({
    identifier: _propTypes.default.oneOf(['create', 'publish']).isRequired,
    getParams: _propTypes.default.func.isRequired,
    cancel: _propTypes.default.func.isRequired
  }).isRequired,
  error: _propTypes.default.instanceOf(Error),
  isLoading: _propTypes.default.bool.isRequired,
  inProgress: _propTypes.default.bool.isRequired,
  selectedOwnerID: _propTypes.default.string.isRequired,
  repoName: _propTypes.default.object.isRequired,
  selectedVisibility: _propTypes.default.oneOf(['PUBLIC', 'PRIVATE']).isRequired,
  localPath: _propTypes.default.object.isRequired,
  sourceRemoteName: _propTypes.default.object.isRequired,
  selectedProtocol: _propTypes.default.oneOf(['https', 'ssh']).isRequired,
  acceptEnabled: _propTypes.default.bool.isRequired,
  // Change callbacks
  didChangeOwnerID: _propTypes.default.func.isRequired,
  didChangeVisibility: _propTypes.default.func.isRequired,
  didChangeProtocol: _propTypes.default.func.isRequired,
  accept: _propTypes.default.func.isRequired,
  // Atom environment
  currentWindow: _propTypes.default.object.isRequired,
  workspace: _propTypes.default.object.isRequired,
  commands: _propTypes.default.object.isRequired,
  config: _propTypes.default.object.isRequired
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi92aWV3cy9jcmVhdGUtZGlhbG9nLXZpZXcuanMiXSwibmFtZXMiOlsiRElBTE9HX1RFWFQiLCJjcmVhdGUiLCJoZWFkaW5nIiwiaG9zdFBhdGgiLCJwcm9ncmVzc01lc3NhZ2UiLCJhY2NlcHRUZXh0IiwicHVibGlzaCIsIkNyZWF0ZURpYWxvZ1ZpZXciLCJSZWFjdCIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJldmVudCIsImRpZENoYW5nZVZpc2liaWxpdHkiLCJ0YXJnZXQiLCJ2YWx1ZSIsInRhYkdyb3VwIiwiVGFiR3JvdXAiLCJyZW5kZXIiLCJ0ZXh0IiwicmVxdWVzdCIsImlkZW50aWZpZXIiLCJhY2NlcHRFbmFibGVkIiwiYWNjZXB0IiwiY2FuY2VsIiwiaW5Qcm9ncmVzcyIsImVycm9yIiwid29ya3NwYWNlIiwiY29tbWFuZHMiLCJ1c2VyIiwicmVwb05hbWUiLCJzZWxlY3RlZE93bmVySUQiLCJkaWRDaGFuZ2VPd25lcklEIiwiaXNMb2FkaW5nIiwic2VsZWN0ZWRWaXNpYmlsaXR5IiwiY3VycmVudFdpbmRvdyIsImxvY2FsUGF0aCIsInNlbGVjdGVkUHJvdG9jb2wiLCJkaWRDaGFuZ2VQcm90b2NvbCIsInNvdXJjZVJlbW90ZU5hbWUiLCJjb21wb25lbnREaWRNb3VudCIsImF1dG9mb2N1cyIsIlByb3BUeXBlcyIsIm9iamVjdCIsInNoYXBlIiwib25lT2YiLCJpc1JlcXVpcmVkIiwiZ2V0UGFyYW1zIiwiZnVuYyIsImluc3RhbmNlT2YiLCJFcnJvciIsImJvb2wiLCJzdHJpbmciLCJjb25maWciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsTUFBTUEsV0FBVyxHQUFHO0FBQ2xCQyxFQUFBQSxNQUFNLEVBQUU7QUFDTkMsSUFBQUEsT0FBTyxFQUFFLDBCQURIO0FBRU5DLElBQUFBLFFBQVEsRUFBRSxt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WDtBQWlCakJQLEVBQUFBLGdCQUFnQixFQUFFRyxtQkFBVUMsTUFBVixDQUFpQkcsVUFqQmxCO0FBa0JqQlQsRUFBQUEsZ0JBQWdCLEVBQUVLLG1CQUFVRyxLQUFWLENBQWdCLENBQUMsT0FBRCxFQUFVLEtBQVYsQ0FBaEIsRUFBa0NDLFVBbEJuQztBQW1CakJ4QixFQUFBQSxhQUFhLEVBQUVvQixtQkFBVVMsSUFBVixDQUFlTCxVQW5CYjtBQXFCakI7QUFDQWQsRUFBQUEsZ0JBQWdCLEVBQUVVLG1CQUFVTSxJQUFWLENBQWVGLFVBdEJoQjtBQXVCakJqQyxFQUFBQSxtQkFBbUIsRUFBRTZCLG1CQUFVTSxJQUFWLENBQWVGLFVBdkJuQjtBQXdCakJSLEVBQUFBLGlCQUFpQixFQUFFSSxtQkFBVU0sSUFBVixDQUFlRixVQXhCakI7QUF5QmpCdkIsRUFBQUEsTUFBTSxFQUFFbUIsbUJBQVVNLElBQVYsQ0FBZUYsVUF6Qk47QUEyQmpCO0FBQ0FYLEVBQUFBLGFBQWEsRUFBRU8sbUJBQVVDLE1BQVYsQ0FBaUJHLFVBNUJmO0FBNkJqQm5CLEVBQUFBLFNBQVMsRUFBRWUsbUJBQVVDLE1BQVYsQ0FBaUJHLFVBN0JYO0FBOEJqQmxCLEVBQUFBLFFBQVEsRUFBRWMsbUJBQVVDLE1BQVYsQ0FBaUJHLFVBOUJWO0FBK0JqQk8sRUFBQUEsTUFBTSxFQUFFWCxtQkFBVUMsTUFBVixDQUFpQkc7QUEvQlIsQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5pbXBvcnQgRGlhbG9nVmlldyBmcm9tICcuL2RpYWxvZy12aWV3JztcbmltcG9ydCBSZXBvc2l0b3J5SG9tZVNlbGVjdGlvblZpZXcgZnJvbSAnLi9yZXBvc2l0b3J5LWhvbWUtc2VsZWN0aW9uLXZpZXcnO1xuaW1wb3J0IERpcmVjdG9yeVNlbGVjdCBmcm9tICcuL2RpcmVjdG9yeS1zZWxlY3QnO1xuaW1wb3J0IFJlbW90ZUNvbmZpZ3VyYXRpb25WaWV3IGZyb20gJy4vcmVtb3RlLWNvbmZpZ3VyYXRpb24tdmlldyc7XG5pbXBvcnQgVGFiR3JvdXAgZnJvbSAnLi4vdGFiLWdyb3VwJztcbmltcG9ydCB7VGFiYmFibGVJbnB1dH0gZnJvbSAnLi90YWJiYWJsZSc7XG5pbXBvcnQgT2N0aWNvbiBmcm9tICcuLi9hdG9tL29jdGljb24nO1xuXG5jb25zdCBESUFMT0dfVEVYVCA9IHtcbiAgY3JlYXRlOiB7XG4gICAgaGVhZGluZzogJ0NyZWF0ZSBHaXRIdWIgcmVwb3NpdG9yeScsXG4gICAgaG9zdFBhdGg6ICdEZXN0aW5hdGlvbiBwYXRoOicsXG4gICAgcHJvZ3Jlc3NNZXNzYWdlOiAnQ3JlYXRpbmcgcmVwb3NpdG9yeS4uLicsXG4gICAgYWNjZXB0VGV4dDogJ0NyZWF0ZScsXG4gIH0sXG4gIHB1Ymxpc2g6IHtcbiAgICBoZWFkaW5nOiAnUHVibGlzaCBHaXRIdWIgcmVwb3NpdG9yeScsXG4gICAgaG9zdFBhdGg6ICdMb2NhbCBwYXRoOicsXG4gICAgcHJvZ3Jlc3NNZXNzYWdlOiAnUHVibGlzaGluZyByZXBvc2l0b3J5Li4uJyxcbiAgICBhY2NlcHRUZXh0OiAnUHVibGlzaCcsXG4gIH0sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVhdGVEaWFsb2dWaWV3IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgc3RhdGljIHByb3BUeXBlcyA9IHtcbiAgICAvLyBSZWxheVxuICAgIHVzZXI6IFByb3BUeXBlcy5vYmplY3QsXG5cbiAgICAvLyBNb2RlbFxuICAgIHJlcXVlc3Q6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgICBpZGVudGlmaWVyOiBQcm9wVHlwZXMub25lT2YoWydjcmVhdGUnLCAncHVibGlzaCddKS5pc1JlcXVpcmVkLFxuICAgICAgZ2V0UGFyYW1zOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgICAgY2FuY2VsOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIH0pLmlzUmVxdWlyZWQsXG4gICAgZXJyb3I6IFByb3BUeXBlcy5pbnN0YW5jZU9mKEVycm9yKSxcbiAgICBpc0xvYWRpbmc6IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gICAgaW5Qcm9ncmVzczogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcbiAgICBzZWxlY3RlZE93bmVySUQ6IFByb3BUeXBlcy5zdHJpbmcuaXNSZXF1aXJlZCxcbiAgICByZXBvTmFtZTogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIHNlbGVjdGVkVmlzaWJpbGl0eTogUHJvcFR5cGVzLm9uZU9mKFsnUFVCTElDJywgJ1BSSVZBVEUnXSkuaXNSZXF1aXJlZCxcbiAgICBsb2NhbFBhdGg6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBzb3VyY2VSZW1vdGVOYW1lOiBQcm9wVHlwZXMub2JqZWN0LmlzUmVxdWlyZWQsXG4gICAgc2VsZWN0ZWRQcm90b2NvbDogUHJvcFR5cGVzLm9uZU9mKFsnaHR0cHMnLCAnc3NoJ10pLmlzUmVxdWlyZWQsXG4gICAgYWNjZXB0RW5hYmxlZDogUHJvcFR5cGVzLmJvb2wuaXNSZXF1aXJlZCxcblxuICAgIC8vIENoYW5nZSBjYWxsYmFja3NcbiAgICBkaWRDaGFuZ2VPd25lcklEOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGRpZENoYW5nZVZpc2liaWxpdHk6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgZGlkQ2hhbmdlUHJvdG9jb2w6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gICAgYWNjZXB0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuXG4gICAgLy8gQXRvbSBlbnZpcm9ubWVudFxuICAgIGN1cnJlbnRXaW5kb3c6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICB3b3Jrc3BhY2U6IFByb3BUeXBlcy5vYmplY3QuaXNSZXF1aXJlZCxcbiAgICBjb21tYW5kczogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICAgIGNvbmZpZzogUHJvcFR5cGVzLm9iamVjdC5pc1JlcXVpcmVkLFxuICB9XG5cbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG5cbiAgICB0aGlzLnRhYkdyb3VwID0gbmV3IFRhYkdyb3VwKCk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgdGV4dCA9IERJQUxPR19URVhUW3RoaXMucHJvcHMucmVxdWVzdC5pZGVudGlmaWVyXTtcblxuICAgIHJldHVybiAoXG4gICAgICA8RGlhbG9nVmlld1xuICAgICAgICBwcm9ncmVzc01lc3NhZ2U9e3RleHQucHJvZ3Jlc3NNZXNzYWdlfVxuICAgICAgICBhY2NlcHRFbmFibGVkPXt0aGlzLnByb3BzLmFjY2VwdEVuYWJsZWR9XG4gICAgICAgIGFjY2VwdFRleHQ9e3RleHQuYWNjZXB0VGV4dH1cbiAgICAgICAgYWNjZXB0PXt0aGlzLnByb3BzLmFjY2VwdH1cbiAgICAgICAgY2FuY2VsPXt0aGlzLnByb3BzLnJlcXVlc3QuY2FuY2VsfVxuICAgICAgICB0YWJHcm91cD17dGhpcy50YWJHcm91cH1cbiAgICAgICAgaW5Qcm9ncmVzcz17dGhpcy5wcm9wcy5pblByb2dyZXNzfVxuICAgICAgICBlcnJvcj17dGhpcy5wcm9wcy5lcnJvcn1cbiAgICAgICAgd29ya3NwYWNlPXt0aGlzLnByb3BzLndvcmtzcGFjZX1cbiAgICAgICAgY29tbWFuZHM9e3RoaXMucHJvcHMuY29tbWFuZHN9PlxuXG4gICAgICAgIDxoMSBjbGFzc05hbWU9XCJnaXRodWItQ3JlYXRlLWhlYWRlclwiPlxuICAgICAgICAgIDxPY3RpY29uIGljb249XCJnbG9iZVwiIC8+XG4gICAgICAgICAge3RleHQuaGVhZGluZ31cbiAgICAgICAgPC9oMT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJnaXRodWItQ3JlYXRlLXJlcG8gYmxvY2tcIj5cbiAgICAgICAgICA8UmVwb3NpdG9yeUhvbWVTZWxlY3Rpb25WaWV3XG4gICAgICAgICAgICB0YWJHcm91cD17dGhpcy50YWJHcm91cH1cbiAgICAgICAgICAgIGNvbW1hbmRzPXt0aGlzLnByb3BzLmNvbW1hbmRzfVxuICAgICAgICAgICAgYXV0b2ZvY3VzTmFtZVxuICAgICAgICAgICAgdXNlcj17dGhpcy5wcm9wcy51c2VyfVxuICAgICAgICAgICAgbmFtZUJ1ZmZlcj17dGhpcy5wcm9wcy5yZXBvTmFtZX1cbiAgICAgICAgICAgIHNlbGVjdGVkT3duZXJJRD17dGhpcy5wcm9wcy5zZWxlY3RlZE93bmVySUR9XG4gICAgICAgICAgICBkaWRDaGFuZ2VPd25lcklEPXt0aGlzLnByb3BzLmRpZENoYW5nZU93bmVySUR9XG4gICAgICAgICAgICBpc0xvYWRpbmc9e3RoaXMucHJvcHMuaXNMb2FkaW5nfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdpdGh1Yi1DcmVhdGUtdmlzaWJpbGl0eSBibG9ja1wiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImdpdGh1Yi1DcmVhdGUtdmlzaWJpbGl0eUhlYWRpbmdcIj5WaXNpYmlsaXR5Ojwvc3Bhbj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ2l0aHViLUNyZWF0ZS12aXNpYmlsaXR5T3B0aW9uIGlucHV0LWxhYmVsXCI+XG4gICAgICAgICAgICA8VGFiYmFibGVJbnB1dFxuICAgICAgICAgICAgICB0YWJHcm91cD17dGhpcy50YWJHcm91cH1cbiAgICAgICAgICAgICAgY29tbWFuZHM9e3RoaXMucHJvcHMuY29tbWFuZHN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LXJhZGlvXCJcbiAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgbmFtZT1cInZpc2liaWxpdHlcIlxuICAgICAgICAgICAgICB2YWx1ZT1cIlBVQkxJQ1wiXG4gICAgICAgICAgICAgIGNoZWNrZWQ9e3RoaXMucHJvcHMuc2VsZWN0ZWRWaXNpYmlsaXR5ID09PSAnUFVCTElDJ31cbiAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuZGlkQ2hhbmdlVmlzaWJpbGl0eX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8T2N0aWNvbiBpY29uPVwiZ2xvYmVcIiAvPlxuICAgICAgICAgICAgUHVibGljXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZ2l0aHViLUNyZWF0ZS12aXNpYmlsaXR5T3B0aW9uIGlucHV0LWxhYmVsXCI+XG4gICAgICAgICAgICA8VGFiYmFibGVJbnB1dFxuICAgICAgICAgICAgICB0YWJHcm91cD17dGhpcy50YWJHcm91cH1cbiAgICAgICAgICAgICAgY29tbWFuZHM9e3RoaXMucHJvcHMuY29tbWFuZHN9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LXJhZGlvXCJcbiAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgbmFtZT1cInZpc2liaWxpdHlcIlxuICAgICAgICAgICAgICB2YWx1ZT1cIlBSSVZBVEVcIlxuICAgICAgICAgICAgICBjaGVja2VkPXt0aGlzLnByb3BzLnNlbGVjdGVkVmlzaWJpbGl0eSA9PT0gJ1BSSVZBVEUnfVxuICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5kaWRDaGFuZ2VWaXNpYmlsaXR5fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxPY3RpY29uIGljb249XCJtaXJyb3ItcHJpdmF0ZVwiIC8+XG4gICAgICAgICAgICBQcml2YXRlXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2l0aHViLUNyZWF0ZS1sb2NhbFBhdGhcIj5cbiAgICAgICAgICA8RGlyZWN0b3J5U2VsZWN0XG4gICAgICAgICAgICB0YWJHcm91cD17dGhpcy50YWJHcm91cH1cbiAgICAgICAgICAgIGNvbW1hbmRzPXt0aGlzLnByb3BzLmNvbW1hbmRzfVxuICAgICAgICAgICAgY3VycmVudFdpbmRvdz17dGhpcy5wcm9wcy5jdXJyZW50V2luZG93fVxuICAgICAgICAgICAgYnVmZmVyPXt0aGlzLnByb3BzLmxvY2FsUGF0aH1cbiAgICAgICAgICAgIGRpc2FibGVkPXt0aGlzLnByb3BzLnJlcXVlc3QuaWRlbnRpZmllciA9PT0gJ3B1Ymxpc2gnfVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8UmVtb3RlQ29uZmlndXJhdGlvblZpZXdcbiAgICAgICAgICB0YWJHcm91cD17dGhpcy50YWJHcm91cH1cbiAgICAgICAgICBjb21tYW5kcz17dGhpcy5wcm9wcy5jb21tYW5kc31cbiAgICAgICAgICBjdXJyZW50UHJvdG9jb2w9e3RoaXMucHJvcHMuc2VsZWN0ZWRQcm90b2NvbH1cbiAgICAgICAgICBkaWRDaGFuZ2VQcm90b2NvbD17dGhpcy5wcm9wcy5kaWRDaGFuZ2VQcm90b2NvbH1cbiAgICAgICAgICBzb3VyY2VSZW1vdGVCdWZmZXI9e3RoaXMucHJvcHMuc291cmNlUmVtb3RlTmFtZX1cbiAgICAgICAgLz5cblxuICAgICAgPC9EaWFsb2dWaWV3PlxuICAgICk7XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLnRhYkdyb3VwLmF1dG9mb2N1cygpO1xuICB9XG5cbiAgZGlkQ2hhbmdlVmlzaWJpbGl0eSA9IGV2ZW50ID0+IHRoaXMucHJvcHMuZGlkQ2hhbmdlVmlzaWJpbGl0eShldmVudC50YXJnZXQudmFsdWUpO1xufVxuIl19